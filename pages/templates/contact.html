{% extends 'base.html' %}

{% block title %}Contact Us - Try Django{% endblock %}

{% block content %}
<section class="contact-section section-lg">
  <div class="container-sm">
    <!-- Header -->
    <div class="contact-header" style="text-align: center; margin-bottom: var(--spacing-2xl);">
      <h1 style="margin-bottom: var(--spacing-base);">Get in Touch</h1>
      <p style="color: var(--color-text-secondary); font-size: var(--font-size-lg);">
        Have a question or feedback? We'd love to hear from you. Send us a message and we'll respond as soon as possible.
      </p>
    </div>

    <!-- Contact Form Card -->
    <div class="card" style="max-width: 600px; margin: 0 auto;">
      {% if form.non_field_errors %}
        <div class="alert alert-danger" role="alert">
          <strong>Error!</strong> Please correct the errors below.
          {% for error in form.non_field_errors %}
            <div>{{ error }}</div>
          {% endfor %}
        </div>
      {% endif %}

      <form method="POST" class="contact-form">
        {% csrf_token %}

        {% for field in form %}
          <div class="form-group">
            <label for="{{ field.id_for_label }}" class="form-label">
              {{ field.label }}
              {% if field.field.required %}<span style="color: var(--color-danger);">*</span>{% endif %}
            </label>
            
            {% if field.field.widget.input_type == 'textarea' %}
              <textarea 
                name="{{ field.name }}" 
                id="{{ field.id_for_label }}" 
                class="form-control form-control-textarea"
                {% if field.field.required %}required{% endif %}
              >{% if field.value %}{{ field.value }}{% endif %}</textarea>
            {% else %}
              <input 
                type="{% if field.field.widget.input_type == 'email' %}email{% else %}text{% endif %}" 
                name="{{ field.name }}" 
                id="{{ field.id_for_label }}" 
                class="form-control"
                {% if field.value %}value="{{ field.value }}"{% endif %}
                {% for attr_key, attr_val in field.field.widget.attrs.items %}{{ attr_key }}="{{ attr_val }}" {% endfor %}
                {% if field.field.required %}required{% endif %}
              />
            {% endif %}

            <!-- Field Errors -->
            {% if field.errors %}
              <div class="form-error">
                {% for error in field.errors %}
                  <small>{{ error }}</small>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        {% endfor %}

        <!-- Submit Button -->
        <div class="form-group form-actions">
          <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;">
            Send Message
          </button>
        </div>

        <!-- Success Message -->
        {% if form.is_bound and form.is_valid %}
          <div class="alert alert-success" role="alert">
            ‚úì Thank you! Your message has been sent successfully. We'll get back to you soon.
          </div>
        {% endif %}
      </form>
    </div>

    <!-- Contact Info -->
    <div class="contact-info-grid" style="margin-top: var(--spacing-2xl);">
      <div class="contact-info-card">
        <div class="contact-info-icon">üìß</div>
        <h3 style="margin-top: var(--spacing-base); margin-bottom: var(--spacing-sm);">Email</h3>
        <p style="color: var(--color-text-secondary);">agarwalvedant02@gmail.com</p>
      </div>

      <div class="contact-info-card">
        <div class="contact-info-icon">üìç</div>
        <h3 style="margin-top: var(--spacing-base); margin-bottom: var(--spacing-sm);">Location</h3>
        <p style="color: var(--color-text-secondary);">Gurugram, Haryana, India</p>
      </div>

      <div class="contact-info-card">
        <div class="contact-info-icon">‚è∞</div>
        <h3 style="margin-top: var(--spacing-base); margin-bottom: var(--spacing-sm);">Hours</h3>
        <p style="color: var(--color-text-secondary);">Mon - Fri, 9 AM - 6 PM</p>
      </div>
    </div>
  </div>
</section>
{% endblock %}